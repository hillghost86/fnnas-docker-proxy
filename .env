# Docker Registry 代理配置示例文件
# 复制此文件为 .env 并填入你的实际配置值
# cp env.example .env

# ============================================
# 认证信息（如果启用自动更新，可以为空或使用占位符）
# ============================================
# 从飞牛 NAS 的 config.json 中获取
# 位置：/root/.docker/config.json
# 获取方法：在飞牛 NAS 上执行 cat /root/.docker/config.json
# 文件格式：
#   {
#     "HttpHeaders": {
#       "X-Meta-Sign": "你的Sign值",
#       "X-Meta-Token": "你的Token值"
#     }
#   }
# 提取 HttpHeaders 中的 X-Meta-Token 和 X-Meta-Sign 的值
# 
# 注意：
# - 如果启用了自动更新（ENABLE_AUTO_UPDATE=true），这些值会在启动时自动获取并更新
# - 如果未启用自动更新，必须手动填写正确的值
# - 如果启用自动更新，可以使用占位符或留空（启动时会自动获取）

META_TOKEN=
META_SIGN=

# ============================================
# 自动更新配置（推荐启用）
# ============================================
# true: 启用自动更新认证信息（推荐）
# false: 禁用自动更新
ENABLE_AUTO_UPDATE=true

# 更新间隔（秒），默认 3600（1小时）
# 建议：至少 600 秒（10分钟），不要设置太频繁
UPDATE_INTERVAL=600

# 飞牛 NAS 配置文件在容器内的路径（默认 /app/fnnas-config.json）
# 如果飞牛 NAS 的配置文件路径不是 /root/.docker/config.json，
# 需要在 docker-compose.yml 中修改挂载路径，或通过此变量指定
FNNAS_CONFIG_PATH=/app/fnnas-config.json

# ============================================
# 日志开关配置（可选，默认关闭）
# ============================================
# true: 开启日志记录
# false: 关闭日志记录（默认）
# 注意：如果日志关闭，建议同时设置 ENABLE_LOG_VOLUME=false 以避免创建不必要的卷

ENABLE_ACCESS_LOG=false
ENABLE_ERROR_LOG=false

# ============================================
# 日志目录挂载开关（可选，默认关闭）
# ============================================
# true: 挂载日志目录（使用 Docker named volume，自动创建，无需手动创建目录）
# false: 不挂载日志目录（需要在 docker-compose.yml 中注释掉日志目录挂载行）
# 注意：
# - 如果 ENABLE_ACCESS_LOG=false 且 ENABLE_ERROR_LOG=false，即使挂载了目录也不会写入日志
# - 建议：如果日志功能关闭，设置 ENABLE_LOG_VOLUME=false 以节省资源

ENABLE_LOG_VOLUME=false

# ============================================
# 日志文件配置（可选，仅在日志开启时使用）
# ============================================

# 访问日志文件名（默认：http-proxy-access.log）
ACCESS_LOG_NAME=http-proxy-access.log

# 错误日志文件名（默认：http-proxy-error.log）
ERROR_LOG_NAME=http-proxy-error.log
